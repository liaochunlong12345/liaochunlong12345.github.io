<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Rex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Rex">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Rex">
<meta property="og:locale">
<meta property="article:author" content="Rex">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Rex" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Rex</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Suche"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Excel/Excel" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/31/Excel/Excel/" class="article-date">
  <time class="dt-published" datetime="2023-05-31T00:20:15.879Z" itemprop="datePublished">2023-05-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Excel"><a href="#Excel" class="headerlink" title="Excel"></a>Excel</h1><h2 id="1-常用快捷键"><a href="#1-常用快捷键" class="headerlink" title="1.常用快捷键"></a>1.常用快捷键</h2><p><img src="/images/Excel.assets/image-20230515225411249.png" alt="快捷键"></p>
<h2 id="2-场景"><a href="#2-场景" class="headerlink" title="2.场景"></a>2.场景</h2><h3 id="2-1空值替换"><a href="#2-1空值替换" class="headerlink" title="2.1空值替换"></a>2.1空值替换</h3><p><img src="/images/Excel.assets/image-20230515225635055.png" alt="image-20230515225635055"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 操作步骤</span></span><br><span class="line"><span class="comment"># 主要是用时定位功能</span></span><br><span class="line">1.在任意单元格内复制要填充的数据</span><br><span class="line">2.用ctrl+5或者F5调出定位功能</span><br><span class="line">3.选择定位条件--空值</span><br><span class="line">4.ctrl+v粘贴即可</span><br></pre></td></tr></table></figure>

<p><img src="/images/Excel.assets/image-20230515225945356.png" alt="image-20230515225945356"></p>
<h3 id="2-2快速自动求和"><a href="#2-2快速自动求和" class="headerlink" title="2.2快速自动求和"></a>2.2快速自动求和</h3><blockquote>
<p>计算出各个品牌的金额和总金额</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515230429354.png" alt="image-20230515230429354"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 操作方法</span></span><br><span class="line"><span class="comment"># 使用定位功能</span></span><br><span class="line"></span><br><span class="line">1.选择数据区域</span><br><span class="line">2.使用（ctrl+G）定位功能</span><br><span class="line">3.alt + “=”</span><br></pre></td></tr></table></figure>

<p><img src="/images/Excel.assets/image-20230515230639976.png" alt="image-20230515230639976"></p>
<p><img src="/images/Excel.assets/image-20230515230549220.png" alt="image-20230515203410388"></p>
<h3 id="2-3选择性粘贴"><a href="#2-3选择性粘贴" class="headerlink" title="2.3选择性粘贴"></a>2.3选择性粘贴</h3><blockquote>
<p>如在这个表格中每个品牌的数量都增加20</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515230824788.png" alt="image-20230515230824788"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解决思路</span></span><br><span class="line"></span><br><span class="line">1.在空白单元格输入20，并复制</span><br><span class="line">2.选中要修改的数据区域</span><br><span class="line">3.选择选择性粘贴</span><br><span class="line">4.选择性粘贴专责“加”</span><br></pre></td></tr></table></figure>

<p><img src="/images/Excel.assets/image-20230515231236863.png" alt="image-20230515231236863"></p>
<ul>
<li>内容转置</li>
</ul>
<blockquote>
<p>选择数据区域，在使用“选择性粘贴”，选择内容转置。功能，可将数据展现形式由行转为列或者由列转为行</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515231437128.png" alt="image-20230515231437128"></p>
<p><img src="/images/Excel.assets/image-20230515231356962.png" alt="image-20230515231356962"></p>
<h3 id="2-4自动填充"><a href="#2-4自动填充" class="headerlink" title="2.4自动填充"></a>2.4自动填充</h3><blockquote>
<p>在拷贝方式一列，在空白区域内添加“小程序”拷贝</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515231811927.png" alt="image-20230515231811927"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 与上面选择性粘贴操作方式一致</span></span><br><span class="line">1.在空白单元格输入“小程序”，并且复制到粘贴板</span><br><span class="line">2.选择数据区域</span><br><span class="line">3.使用ctrl+G定位，选择控制，最后ctrl+V即可</span><br></pre></td></tr></table></figure>

<p><img src="/images/Excel.assets/image-20230515232305441.png" alt="image-20230515232305441"></p>
<ul>
<li>自动填充</li>
</ul>
<blockquote>
<ul>
<li>可以实现等差数数列的自动填充</li>
<li>支持自定义填充列.。操作方法是：点击文件&#x3D;&#x3D;&gt;选项&#x3D;&#x3D;&gt;高级&#x3D;&#x3D;&gt;编辑自定义列表</li>
</ul>
</blockquote>
<p>![image-20230515205504338](&#x2F;images&#x2F;Excel.assets&#x2F;image-20230515205504338.png</p>
<h3 id="2-5查找与替换"><a href="#2-5查找与替换" class="headerlink" title="2.5查找与替换"></a>2.5查找与替换</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 快捷键</span></span><br><span class="line">ctlr+F ：查找</span><br><span class="line"></span><br><span class="line">ctrl+h ： 替换</span><br></pre></td></tr></table></figure>

<p><img src="/images/Excel.assets/image-20230515232815805.png" alt="image-20230515232815805"></p>
<p><img src="/images/Excel.assets/image-20230515233014298.png" alt="image-20230515233014298"></p>
<blockquote>
<p>1.ctrl+F 调出“查找”对话框。输入从查找内容，也可设置单元格格式内容，根据这个来做查找</p>
<p>2.替换操作同理操作即可</p>
</blockquote>
<h3 id="2-6分列与合并"><a href="#2-6分列与合并" class="headerlink" title="2.6分列与合并"></a>2.6分列与合并</h3><ul>
<li>分列</li>
</ul>
<blockquote>
<p>将表格中数据以逗号分隔开</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515233353125.png" alt="image-20230515233353125"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 操作方法</span></span><br><span class="line"><span class="comment"># 使用 “数据”中的“分列”功能</span></span><br><span class="line"></span><br><span class="line">1.选择要处理的数据区域</span><br><span class="line">2.点击“数据”，然后选择“分列”</span><br><span class="line">3.根据特点进行分隔。（这里使用逗号，最后如图所示完成分隔。）</span><br></pre></td></tr></table></figure>



<p><img src="/images/Excel.assets/image-20230515233403270.png" alt="image-20230515233403270"></p>
<ul>
<li>合并</li>
</ul>
<blockquote>
<p>分列后的结果通过连字符’&amp;’可将所有字符连接起来.</p>
<p>并且可以使用指定的连接字符串将字符进行连接</p>
</blockquote>
<p><img src="/images/Excel.assets/image-20230515233822125.png" alt="image-20230515233822125"></p>
<p><img src="/images/Excel.assets/image-20230515233856124.png" alt="image-20230515233856124"></p>
<h2 id="3-公式与函数"><a href="#3-公式与函数" class="headerlink" title="3.公式与函数"></a>3.公式与函数</h2><h3 id="3-1-地址引用"><a href="#3-1-地址引用" class="headerlink" title="3.1 地址引用"></a>3.1 地址引用</h3><blockquote>
<p> ctrl + ~ ：显示原始内容</p>
</blockquote>
<p>在电子表中通常使用A-Z代表列数，数字代表行数。A1则代表第一列第一行。因此我们可以使用这种方式定位到所有位置的数据。他们的引用方式可以分为3类。</p>
<ul>
<li><p>相对引用：A2，A7，如果使用下拉选项则该列值也会在变。</p>
</li>
<li><p>绝对引用：在行和列前面加$,如$A$1,则表示不管怎么下拉，已经锁死A1的数据</p>
</li>
<li><p>相对引用：只在行或者列使用$.</p>
<blockquote>
<p>被$引用的行或者列不能改变。使用F4可实现相互转换</p>
</blockquote>
</li>
</ul>
<h3 id="3-2函数"><a href="#3-2函数" class="headerlink" title="3.2函数"></a>3.2函数</h3><p><img src="/images/Excel.assets/image-20230516210614597.png" alt="image-20230516210614597"></p>
<ul>
<li><p>逻辑函数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">if</span>(条件，条件成立返回值，条件不成立返回值)</span><br><span class="line"></span><br><span class="line"><span class="comment"># if  and</span></span><br><span class="line"><span class="keyword">if</span> ( and(条件1，条件2，条件n)，成立返回值，失败返回值)</span><br><span class="line">	<span class="comment"># 多个条件同时满足结果为真。 如果条件中含文本类，则应该使用双引号引起来。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if or</span></span><br><span class="line"><span class="keyword">if</span> ( or (条件1，条件2，条件n)，成立返回值，失败返回值)</span><br><span class="line">	<span class="comment"># 只要一个条件同时满足结果为真。 如果条件中含文本类，则应该使用双引号引起来。</span></span><br><span class="line">	</span><br><span class="line"><span class="comment"># if 嵌套</span></span><br><span class="line"><span class="keyword">if</span> （ 条件1，成立返回值，<span class="keyword">if</span>（条件2，成立返回值，失败返回值））</span><br><span class="line">	<span class="comment"># 使用多个if函数来实现嵌套</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>文本函数</p>
<p>left、right、mid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计数是从1开始的</span></span><br><span class="line"></span><br><span class="line">left (str,n)  <span class="comment"># 取str从左起的n个字符</span></span><br><span class="line">right (str,n)  <span class="comment"># 取str从右起的n个字符</span></span><br><span class="line">mid（str，n，m） <span class="comment"># 从str左起的n个字符开始取m个字符</span></span><br><span class="line"></span><br><span class="line">len（str）  <span class="comment"># 计算str有几个字符</span></span><br><span class="line"></span><br><span class="line">text（str，format）<span class="comment">#将对应的str转换为指定格式</span></span><br><span class="line"></span><br><span class="line">replace（str，start_num,char_nums,str1） <span class="comment"># 将str的从start_num个后面的char_num个字符替换为str1</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>统计函数</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">int(num)  <span class="comment"># 会向下取整</span></span><br><span class="line">round（num，n） <span class="comment"># 将数num保留n位小数</span></span><br><span class="line">mod （n1,n2）   <span class="comment"># 取n1/n2的余数</span></span><br><span class="line">max（）         <span class="comment"># 找最大值</span></span><br><span class="line">min（）         <span class="comment"># 找最小值</span></span><br><span class="line">average（）     <span class="comment"># 找平均值</span></span><br><span class="line"><span class="built_in">sum</span>（）         <span class="comment"># 求和</span></span><br><span class="line">count（）       <span class="comment"># 计数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sumif（条件区域，条件，求值区域）         <span class="comment"># 只对满足条件的进行求和（单个条件）</span></span><br><span class="line">sumifs                                  <span class="comment"># 对满足一组条件的进行求和</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">count（range，条件）                                     <span class="comment"># 计数</span></span><br><span class="line">conutif（条件区域，条件）                                 <span class="comment"># 条件计数</span></span><br><span class="line">countifs （条件区域1，条件1，条件区域2，条件2）            <span class="comment"># 多条件计数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找与匹配</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vlookup</span></span><br><span class="line">vlookup（查找对象，查找区域，返回值所在的第几列，查找方式）</span><br><span class="line">	查找方式：精确匹配，模糊匹配</span><br><span class="line"><span class="comment"># match</span></span><br><span class="line">metch（查找对象，查找区域，查找方式）</span><br><span class="line">	用于匹配两个表的数据差异，返回的是一个值在另一张表所在的行数</span><br></pre></td></tr></table></figure>

<ul>
<li>日期时间函数</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">today: <span class="comment"># 返回时间，精确到年月日</span></span><br><span class="line">now：  <span class="comment"># 返回时间，精确到年月日时分</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">date</span>： <span class="comment"># （年月日）日期组合</span></span><br><span class="line">datedif（时间1，时间2，<span class="string">&quot;Y/M/D&quot;</span>） <span class="comment"># 计算相差时间的间隔，可按年月日计算</span></span><br></pre></td></tr></table></figure>

<h2 id="4-数据透视表"><a href="#4-数据透视表" class="headerlink" title="4.数据透视表"></a>4.数据透视表</h2><p><img src="/images/Excel.assets/image-20230517215705056.png" alt="image-20230517215705056"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/31/Excel/Excel/" data-id="cli8ylmwp000028l16815881f" data-title="" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Python/python" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/31/Python/python/" class="article-date">
  <time class="dt-published" datetime="2023-05-31T00:17:46.341Z" itemprop="datePublished">2023-05-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="1-环境安装"><a href="#1-环境安装" class="headerlink" title="1.环境安装"></a>1.环境安装</h2><h3 id="python安装"><a href="#python安装" class="headerlink" title="python安装"></a>python安装</h3><p>从[官网](<a target="_blank" rel="noopener" href="https://www.python.org/">Welcome to Python.org</a>)下载对应版本建议安装<a target="_blank" rel="noopener" href="https://www.python.org/downloads/release/python-31011/">python3-windows版本</a>，然后就是下一步一直安装。在安装过程无比勾选<strong>Add python.exe to path</strong> 将python加入到PATH中，这样安装可以在windows中使用python</p>
<p><img src="/images/python/image-20230524230020269.png" alt="image-20230524230020269"></p>
<h3 id="Pychrm-IDE安装"><a href="#Pychrm-IDE安装" class="headerlink" title="Pychrm IDE安装"></a>Pychrm IDE安装</h3><p>推荐使用Pycharm IDE环境，提供了代码分析，自动补全，语法突出显示，单元测试。代码覆盖等功能。我这使用<a target="_blank" rel="noopener" href="https://www.jetbrains.com/pycharm/download/download-thanks.html?platform=windows&code=PCC">pychar社区版</a>。安装一直下一步即可。</p>
<p><img src="/images/python/image-20230524230733896.png" alt="image-20230524230733896"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/31/Python/python/" data-id="cli8ylmwx000128l1bfxh80o9" data-title="" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-编译安装/编译与安装" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/29/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AE%89%E8%A3%85/" class="article-date">
  <time class="dt-published" datetime="2023-05-29T14:42:26.668Z" itemprop="datePublished">2023-05-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ngnix"><a href="#ngnix" class="headerlink" title="ngnix"></a>ngnix</h2><h3 id="1、源码安装nginx"><a href="#1、源码安装nginx" class="headerlink" title="1、源码安装nginx"></a>1、源码安装nginx</h3><p>[nginx官网](<a target="_blank" rel="noopener" href="https://nginx.org/en/download.html">nginx: download</a>)下载对应的源码包版本，一般是不建议使用最新的版本，最新版一般处于测试，不稳定。下载最新的稳定版本（stable version）即可</p>
<p><img src="/.com//image-20230528203533651.png" alt="image-20230528203533651"></p>
<ul>
<li>下载源码包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># wget https://nginx.org/download/nginx-1.24.0.tar.gz</span></span><br><span class="line">[root@localhost ~]<span class="comment"># ll</span></span><br><span class="line">-rw-r--r--. 1 root root 1112471 Apr 12 00:04 nginx-1.24.0.tar.gz</span><br></pre></td></tr></table></figure>

<ul>
<li>准备编译环境，环境依赖gcc环境。而我的环境是centos7.9-mini,所以需要安装对应的开发环境</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum -y groupinstall  Development Tools</span></span><br><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># yum -y install zlib-devel openssl-devel pcre-devel</span></span><br><span class="line">	<span class="comment"># 后面编译出错，发现缺少依赖，提前安装上</span></span><br></pre></td></tr></table></figure>

<ul>
<li>解压文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># file nginx-1.24.0.tar.gz</span></span><br><span class="line">nginx-1.24.0.tar.gz: gzip compressed data, from Unix, last modified: Tue Apr 11 09:45:38 2023</span><br><span class="line">[root@localhost ~]<span class="comment"># tar -zxvf nginx-1.24.0.tar.gz</span></span><br><span class="line">[root@localhost ~]<span class="comment"># ll</span></span><br><span class="line">drwxr-xr-x. 8 1001 1001     158 Apr 11 09:45 nginx-1.24.0</span><br><span class="line">-rw-r--r--. 1 root root 1112471 Apr 12 00:04 nginx-1.24.0.tar.</span><br></pre></td></tr></table></figure>

<ul>
<li>编译（编译过程中可能会出现缺少依赖包，再装上即可 ）</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># ./configure --help |grep pre</span></span><br><span class="line">  --prefix=PATH                      <span class="built_in">set</span> installation prefix</span><br><span class="line">  <span class="comment"># 设置安装路径</span></span><br><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># ./configure --prefix=/opt/rex_nginx</span></span><br><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># make install</span></span><br><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># make </span></span><br><span class="line">[root@localhost nginx-1.24.0]<span class="comment"># ls -d /opt/rex_nginx</span></span><br><span class="line">/opt/rex_nginx</span><br></pre></td></tr></table></figure>

<ul>
<li>启动</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cd /opt/rex_nginx/sbin/</span></span><br><span class="line">[root@localhost sbin]<span class="comment"># ll</span></span><br><span class="line">-rwxr-xr-x. 1 root root 3913936 May 28 20:56 nginx</span><br><span class="line">[root@localhost sbin]<span class="comment"># ./nginx</span></span><br><span class="line">[root@localhost sbin]<span class="comment"># curl localhost:80</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">html &#123; color-scheme: light dark; &#125;</span><br><span class="line">body &#123; width: 35em; margin: 0 auto;</span><br><span class="line">font-family: Tahoma, Verdana, Arial, sans-serif; &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2、将nginx源码打包成rpm包"><a href="#2、将nginx源码打包成rpm包" class="headerlink" title="2、将nginx源码打包成rpm包"></a>2、将nginx源码打包成rpm包</h3><ul>
<li>下载源码包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://nginx.org/download/nginx-1.24.0.tar.gz</span><br></pre></td></tr></table></figure>

<ul>
<li>安装打包工具</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum install rpm-build</span></span><br><span class="line">[root@localhost ~]<span class="comment"># yum -y install gcc pcre-devel zlib-devel openssl-devel</span></span><br><span class="line"> - 依赖包</span><br></pre></td></tr></table></figure>

<ul>
<li>打包rpm</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># rpmbuild -ba nginx.spec</span></span><br><span class="line">error: failed to <span class="built_in">stat</span> /root/nginx.spec: No such file or directory</span><br><span class="line"> - rpmbulid必须在用户家目录使用，此时出错，因为没有编写nginx.spec文件，但是也生成了rpmbuild目录</span><br><span class="line">[root@localhost ~]<span class="comment"># tree rpmbuild</span></span><br><span class="line">rpmbuild</span><br><span class="line">├── BUILD</span><br><span class="line">├── BUILDROOT</span><br><span class="line">├── RPMS</span><br><span class="line">├── SOURCES</span><br><span class="line">├── SPECS</span><br><span class="line">└── SRPMS</span><br><span class="line"></span><br><span class="line">6 directories, 0 files</span><br></pre></td></tr></table></figure>

<ul>
<li>将原材料放到对应目录</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cp nginx-1.24.0.tar.gz rpmbuild/SOURCES/</span></span><br><span class="line"><span class="comment"># 将这个源码压缩包文件导入到 rpmbuild/SOURCES下面</span></span><br></pre></td></tr></table></figure>

<ul>
<li>编写nginx.spec</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cat rpmbuild/SPECS/nginx.spec</span></span><br><span class="line">Name:nginx   <span class="comment"># 软件名称</span></span><br><span class="line">Version:1.24.0 <span class="comment"># 软件版本</span></span><br><span class="line">Release: 6%&#123;?dist&#125; <span class="comment"># 第几次制作源码包，默认为1，可随意</span></span><br><span class="line">Summary:nginx web server  <span class="comment"># 汇总信，简要描述</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Group:   # 组包</span></span><br><span class="line">License:GPL  <span class="comment"># GPL协议</span></span><br><span class="line">URL:www.test.com <span class="comment"># 网址</span></span><br><span class="line">Source0:nginx-1.24.0.tar.gz <span class="comment"># 源码包名。必须跟放在rpmbuild/SOURCES下面的名字一致</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 依赖关系</span></span><br><span class="line"><span class="comment">#BuildRequires:  </span></span><br><span class="line"><span class="comment">#Requires:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 描述</span></span><br><span class="line">%description</span><br><span class="line">this is web server</span><br><span class="line"><span class="comment"># 安装前脚本</span></span><br><span class="line">%pre  </span><br><span class="line"><span class="comment"># 安装后脚本</span></span><br><span class="line">%post</span><br><span class="line"></span><br><span class="line">%prep</span><br><span class="line"><span class="comment"># 解压并cd进去</span></span><br><span class="line">%setup -q</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开始编译</span></span><br><span class="line">%build</span><br><span class="line">./configure --prefix=/opt/nginx-rpm</span><br><span class="line"><span class="comment"># ./configure --with-http_ssl_module</span></span><br><span class="line">	<span class="comment"># 指定了软件安装目录，可自定义安装扩展模块</span></span><br><span class="line">make %&#123;?_smp_mflags&#125;</span><br><span class="line"></span><br><span class="line">%install</span><br><span class="line">make install DESTDIR=%&#123;buildroot&#125;</span><br><span class="line"></span><br><span class="line">%files</span><br><span class="line">%doc</span><br><span class="line"><span class="comment"># 要压缩的文件，此处要压缩的文件会被解压到目标安装下面</span></span><br><span class="line">/opt/nginx-rpm/*</span><br><span class="line"></span><br><span class="line">%changelog</span><br></pre></td></tr></table></figure>

<ul>
<li>编译</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译成rpm包</span></span><br><span class="line">	 -ba   将源码包打包成rpm包和srpm包</span><br><span class="line">[root@localhost ~]<span class="comment"># rpmbuild -ba rpmbuild/SPECS/nginx.spec</span></span><br><span class="line">[root@localhost ~]<span class="comment"># ll rpmbuild/RPMS/x86_64/nginx-1.24.0-6.el7.x86_64.rpm</span></span><br><span class="line">-rw-r--r--. 1 root root 291396 May 28 21:51 rpmbuild/RPMS/x86_64/nginx-1.24.0-6.el7.x86_64.rpm</span><br><span class="line">[root@localhost ~]<span class="comment"># ll rpmbuild/SRPMS/nginx-1.24.0-6.el7.src.rpm</span></span><br><span class="line">-rw-r--r--. 1 root root 1113619 May 28 21:51 rpmbuild/SRPMS/nginx-1.24.0-6.el7.src.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看详细信息</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -qpi rpmbuild/RPMS/x86_64/nginx-1.24.0-6.el7.x86_64.rpm</span></span><br><span class="line">Name        : nginx</span><br><span class="line">Version     : 1.24.0</span><br><span class="line">Release     : 6.el7</span><br><span class="line">Architecture: x86_64</span><br><span class="line">Install Date: (not installed)</span><br><span class="line">Group       : Unspecified</span><br><span class="line">Size        : 782944</span><br><span class="line">License     : GPL</span><br><span class="line">Signature   : (none)</span><br><span class="line">Source RPM  : nginx-1.24.0-6.el7.src.rpm</span><br><span class="line">Build Date  : Sun 28 May 2023 09:51:15 PM CST</span><br><span class="line">Build Host  : localhost</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">URL         : www.test.com</span><br><span class="line">Summary     : nginx web server</span><br><span class="line">Description :</span><br><span class="line">this is web server</span><br><span class="line"></span><br><span class="line"><span class="comment"># nginx的rpm包可以安装出那些文件</span></span><br><span class="line">[root@localhost x86_64]<span class="comment"># rpm -qpl nginx-1.24.0-6.el7.x86_64.rpm</span></span><br><span class="line">/opt/nginx-rpm/conf</span><br><span class="line">/opt/nginx-rpm/conf/fastcgi.conf</span><br><span class="line">/opt/nginx-rpm/conf/fastcgi.conf.default</span><br><span class="line">/opt/nginx-rpm/conf/fastcgi_params</span><br><span class="line">/opt/nginx-rpm/conf/fastcgi_params.default</span><br><span class="line">/opt/nginx-rpm/conf/koi-utf</span><br><span class="line">/opt/nginx-rpm/conf/koi-win</span><br><span class="line">/opt/nginx-rpm/conf/mime.types</span><br><span class="line">/opt/nginx-rpm/conf/mime.types.default</span><br><span class="line">/opt/nginx-rpm/conf/nginx.conf</span><br><span class="line">/opt/nginx-rpm/conf/nginx.conf.default</span><br><span class="line">/opt/nginx-rpm/conf/scgi_params</span><br><span class="line">/opt/nginx-rpm/conf/scgi_params.default</span><br><span class="line">/opt/nginx-rpm/conf/uwsgi_params</span><br><span class="line">/opt/nginx-rpm/conf/uwsgi_params.default</span><br><span class="line">/opt/nginx-rpm/conf/win-utf</span><br><span class="line">/opt/nginx-rpm/html</span><br><span class="line">/opt/nginx-rpm/html/50x.html</span><br><span class="line">/opt/nginx-rpm/html/index.html</span><br><span class="line">/opt/nginx-rpm/logs</span><br><span class="line">/opt/nginx-rpm/sbin</span><br><span class="line">/opt/nginx-rpm/sbin/nginx</span><br></pre></td></tr></table></figure>

<h2 id="内核编译"><a href="#内核编译" class="headerlink" title="内核编译"></a>内核编译</h2><p><a href="%5BLinux%E5%85%A5%E9%97%A8%E4%B9%8BCentOS7%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91%E4%B8%89%E9%83%A8%E6%9B%B2(1)_51CTO%E5%8D%9A%E5%AE%A2_centos7%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8%5D(https://blog.51cto.com/mengzhaofu/1854093)">参考资料</a></p>
<p>[kernel.org](<a target="_blank" rel="noopener" href="https://www.kernel.org/">The Linux Kernel Archives</a>)</p>
<ul>
<li>从官网下载内核源码文件</li>
<li><img src="/.com//image-20230528232424876.png" alt="image-20230528232424876"></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost kernel]<span class="comment"># wget https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.3.4.tar.xz</span></span><br></pre></td></tr></table></figure>

<ul>
<li>升级开发环境</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum -y install centos-release-scl</span><br><span class="line">yum -y install devtoolset-9-*</span><br><span class="line">scl <span class="built_in">enable</span> devtoolset-9 bash  <span class="comment">#临时覆盖系统原有的gcc引用</span></span><br><span class="line">[root@localhost kernel]<span class="comment"># gcc -v</span></span><br><span class="line">gcc version 9.3.1 20200408 (Red Hat 9.3.1-2) (GCC)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>内核配置生成</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">make menuconfig -&gt;  load /boot/config* -&gt; save</span><br><span class="line"></span><br><span class="line">make rpm-pkg 直接编译打包成rpm，前提是需要使用rpmbuild工具</span><br><span class="line"></span><br><span class="line">make -j  N</span><br><span class="line"><span class="comment"># N代表几线程开发</span></span><br></pre></td></tr></table></figure>

<ul>
<li>解压内核文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost kernel]<span class="comment"># xz -d linux-6.3.4.tar.xz</span></span><br><span class="line">[root@localhost kernel]<span class="comment"># ll</span></span><br><span class="line">-rw-r--r--. 1 root root 1375805440 May 28 23:25 linux-6.3.4.tar</span><br><span class="line">[root@localhost kernel]<span class="comment"># file linux-6.3.4.tar</span></span><br><span class="line">linux-6.3.4.tar: POSIX tar archive</span><br><span class="line">[root@localhost kernel]<span class="comment"># tar  -xvf linux-6.3.4.tar</span></span><br></pre></td></tr></table></figure>

<ul>
<li>还有依赖要安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install ncurses-devel libncurses-dev</span><br></pre></td></tr></table></figure>

<p><img src="/.com//image-20230528234847178.png" alt="image-20230528234847178"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 表示直接编译进第一阶段内核</span><br><span class="line">M 表示编译成后加载的模块</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/29/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AE%89%E8%A3%85/" data-id="cli8ylmx2000228l1gqfqdgax" data-title="" class="article-share-link"><span class="fa fa-share">Teilen</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/05/31/Excel/Excel/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/05/31/Python/python/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/05/29/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AE%89%E8%A3%85/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Rex<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>